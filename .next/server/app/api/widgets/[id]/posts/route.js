"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/widgets/[id]/posts/route";
exports.ids = ["app/api/widgets/[id]/posts/route"];
exports.modules = {

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("mongodb");

/***/ }),

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

module.exports = require("https");

/***/ }),

/***/ "punycode":
/*!***************************!*\
  !*** external "punycode" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("punycode");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("zlib");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&page=%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute.ts&appDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&page=%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute.ts&appDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \****************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _Users_cookiemonster_Documents_React_app_Cuddles_CMS_Insta_grid_app_api_widgets_id_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./app/api/widgets/[id]/posts/route.ts */ \"(rsc)/./app/api/widgets/[id]/posts/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/widgets/[id]/posts/route\",\n        pathname: \"/api/widgets/[id]/posts\",\n        filename: \"route\",\n        bundlePath: \"app/api/widgets/[id]/posts/route\"\n    },\n    resolvedPagePath: \"/Users/cookiemonster/Documents/React-app/Cuddles-CMS/Insta_grid/app/api/widgets/[id]/posts/route.ts\",\n    nextConfigOutput,\n    userland: _Users_cookiemonster_Documents_React_app_Cuddles_CMS_Insta_grid_app_api_widgets_id_posts_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/widgets/[id]/posts/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZ3aWRnZXRzJTJGJTVCaWQlNUQlMkZwb3N0cyUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGd2lkZ2V0cyUyRiU1QmlkJTVEJTJGcG9zdHMlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZ3aWRnZXRzJTJGJTVCaWQlNUQlMkZwb3N0cyUyRnJvdXRlLnRzJmFwcERpcj0lMkZVc2VycyUyRmNvb2tpZW1vbnN0ZXIlMkZEb2N1bWVudHMlMkZSZWFjdC1hcHAlMkZDdWRkbGVzLUNNUyUyRkluc3RhX2dyaWQlMkZhcHAmcGFnZUV4dGVuc2lvbnM9dHN4JnBhZ2VFeHRlbnNpb25zPXRzJnBhZ2VFeHRlbnNpb25zPWpzeCZwYWdlRXh0ZW5zaW9ucz1qcyZyb290RGlyPSUyRlVzZXJzJTJGY29va2llbW9uc3RlciUyRkRvY3VtZW50cyUyRlJlYWN0LWFwcCUyRkN1ZGRsZXMtQ01TJTJGSW5zdGFfZ3JpZCZpc0Rldj10cnVlJnRzY29uZmlnUGF0aD10c2NvbmZpZy5qc29uJmJhc2VQYXRoPSZhc3NldFByZWZpeD0mbmV4dENvbmZpZ091dHB1dD0mcHJlZmVycmVkUmVnaW9uPSZtaWRkbGV3YXJlQ29uZmlnPWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ2M7QUFDbUQ7QUFDaEk7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCLGdIQUFtQjtBQUMzQztBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBLFlBQVk7QUFDWixDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0EsUUFBUSxpRUFBaUU7QUFDekU7QUFDQTtBQUNBLFdBQVcsNEVBQVc7QUFDdEI7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUN1SDs7QUFFdkgiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnN0YS1ncmlkLz84M2U1Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFwcFJvdXRlUm91dGVNb2R1bGUgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUtbW9kdWxlcy9hcHAtcm91dGUvbW9kdWxlLmNvbXBpbGVkXCI7XG5pbXBvcnQgeyBSb3V0ZUtpbmQgfSBmcm9tIFwibmV4dC9kaXN0L3NlcnZlci9mdXR1cmUvcm91dGUta2luZFwiO1xuaW1wb3J0IHsgcGF0Y2hGZXRjaCBhcyBfcGF0Y2hGZXRjaCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2xpYi9wYXRjaC1mZXRjaFwiO1xuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi9Vc2Vycy9jb29raWVtb25zdGVyL0RvY3VtZW50cy9SZWFjdC1hcHAvQ3VkZGxlcy1DTVMvSW5zdGFfZ3JpZC9hcHAvYXBpL3dpZGdldHMvW2lkXS9wb3N0cy9yb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvd2lkZ2V0cy9baWRdL3Bvc3RzL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvd2lkZ2V0cy9baWRdL3Bvc3RzXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS93aWRnZXRzL1tpZF0vcG9zdHMvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCIvVXNlcnMvY29va2llbW9uc3Rlci9Eb2N1bWVudHMvUmVhY3QtYXBwL0N1ZGRsZXMtQ01TL0luc3RhX2dyaWQvYXBwL2FwaS93aWRnZXRzL1tpZF0vcG9zdHMvcm91dGUudHNcIixcbiAgICBuZXh0Q29uZmlnT3V0cHV0LFxuICAgIHVzZXJsYW5kXG59KTtcbi8vIFB1bGwgb3V0IHRoZSBleHBvcnRzIHRoYXQgd2UgbmVlZCB0byBleHBvc2UgZnJvbSB0aGUgbW9kdWxlLiBUaGlzIHNob3VsZFxuLy8gYmUgZWxpbWluYXRlZCB3aGVuIHdlJ3ZlIG1vdmVkIHRoZSBvdGhlciByb3V0ZXMgdG8gdGhlIG5ldyBmb3JtYXQuIFRoZXNlXG4vLyBhcmUgdXNlZCB0byBob29rIGludG8gdGhlIHJvdXRlLlxuY29uc3QgeyByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcyB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL3dpZGdldHMvW2lkXS9wb3N0cy9yb3V0ZVwiO1xuZnVuY3Rpb24gcGF0Y2hGZXRjaCgpIHtcbiAgICByZXR1cm4gX3BhdGNoRmV0Y2goe1xuICAgICAgICBzZXJ2ZXJIb29rcyxcbiAgICAgICAgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZVxuICAgIH0pO1xufVxuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBvcmlnaW5hbFBhdGhuYW1lLCBwYXRjaEZldGNoLCAgfTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXBwLXJvdXRlLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&page=%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute.ts&appDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./app/api/widgets/[id]/posts/route.ts":
/*!*********************************************!*\
  !*** ./app/api/widgets/[id]/posts/route.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET),\n/* harmony export */   dynamic: () => (/* binding */ dynamic),\n/* harmony export */   revalidate: () => (/* binding */ revalidate)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_mongodb__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/mongodb */ \"(rsc)/./lib/mongodb.ts\");\n/* harmony import */ var _lib_encryption__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/encryption */ \"(rsc)/./lib/encryption.ts\");\n/* harmony import */ var _notionhq_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @notionhq/client */ \"(rsc)/./node_modules/@notionhq/client/build/src/index.js\");\n\n\n\n\n// Disable caching for this route\nconst dynamic = \"force-dynamic\";\nconst revalidate = 0;\nfunction getPropertyValue(page, propertyName) {\n    const property = page.properties[propertyName];\n    if (!property) return null;\n    switch(property.type){\n        case \"title\":\n            return property.title.map((t)=>t.plain_text).join(\"\") || \"\";\n        case \"rich_text\":\n            return property.rich_text.map((t)=>t.plain_text).join(\"\") || \"\";\n        case \"select\":\n            return property.select?.name || \"\";\n        case \"status\":\n            return property.status?.name || \"\";\n        case \"number\":\n            return property.number ?? 0;\n        case \"checkbox\":\n            return property.checkbox ?? false;\n        case \"files\":\n            const urls = [];\n            for (const file of property.files){\n                if (file.type === \"file\") {\n                    urls.push(file.file.url);\n                } else if (file.type === \"external\") {\n                    urls.push(file.external.url);\n                }\n            }\n            return urls;\n        case \"url\":\n            return property.url || \"\";\n        default:\n            return null;\n    }\n}\n// GET /api/widgets/[id]/posts - Fetch posts for a widget\nasync function GET(request, { params }) {\n    try {\n        const db = await (0,_lib_mongodb__WEBPACK_IMPORTED_MODULE_1__.getDb)();\n        // Find widget by widgetId (the short ID used in embed URLs)\n        const widget = await db.collection(\"widgets\").findOne({\n            widgetId: params.id\n        });\n        if (!widget) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Widget not found\"\n            }, {\n                status: 404\n            });\n        }\n        // Decrypt the Notion token\n        const notionToken = (0,_lib_encryption__WEBPACK_IMPORTED_MODULE_2__.decrypt)(widget.notionToken);\n        const notion = new _notionhq_client__WEBPACK_IMPORTED_MODULE_3__.Client({\n            auth: notionToken\n        });\n        // Query the Notion database\n        const response = await notion.databases.query({\n            database_id: widget.databaseId,\n            sorts: [\n                {\n                    property: \"Order\",\n                    direction: \"ascending\"\n                }\n            ]\n        });\n        const posts = response.results.filter((page)=>\"properties\" in page).map((page, index)=>{\n            const name = getPropertyValue(page, \"Name\");\n            const images = getPropertyValue(page, \"files\") || [];\n            const propertyKeys = Object.keys(page.properties);\n            // Read Status directly from property (case-insensitive)\n            // Notion uses type \"status\" (not \"select\") with property.status.name and property.status.color\n            let status = \"\";\n            let statusColor = \"\";\n            const statusKey = propertyKeys.find((key)=>key.toLowerCase() === \"status\");\n            if (statusKey) {\n                const statusProperty = page.properties[statusKey];\n                if (statusProperty?.type === \"status\") {\n                    // Status type: value is at property.status.name and color at property.status.color\n                    status = statusProperty.status?.name || \"\";\n                    statusColor = statusProperty.status?.color || \"\";\n                } else if (statusProperty?.type === \"select\") {\n                    // Fallback for select type\n                    status = statusProperty.select?.name || \"\";\n                } else {\n                    status = getPropertyValue(page, statusKey) || \"\";\n                }\n            } else {\n                status = getPropertyValue(page, \"Status\") || \"\";\n            }\n            const caption = getPropertyValue(page, \"Caption\");\n            const order = getPropertyValue(page, \"Order\") || index + 1;\n            const pinned = getPropertyValue(page, \"Pinned\") ?? false;\n            // Find platform property by checking all property keys (case-insensitive)\n            let platformRaw = \"\";\n            // Try exact match first (case-insensitive)\n            let platformKey = propertyKeys.find((key)=>key.toLowerCase() === \"platform\");\n            // If not found, try partial match (in case it's \"Platform\" or has spaces)\n            if (!platformKey) {\n                platformKey = propertyKeys.find((key)=>key.toLowerCase().includes(\"platform\"));\n            }\n            if (platformKey) {\n                const platformProperty = page.properties[platformKey];\n                // Handle select type directly\n                if (platformProperty.type === \"select\") {\n                    platformRaw = platformProperty.select?.name || \"\";\n                } else {\n                    platformRaw = getPropertyValue(page, platformKey) || \"\";\n                }\n            }\n            const platformLower = platformRaw.trim().toLowerCase();\n            const platform = platformLower.includes(\"tiktok\") ? \"tiktok\" : \"instagram\";\n            // Find source property (case-insensitive) - can be URL or text type\n            let source = \"\";\n            const sourceKey = propertyKeys.find((key)=>key.toLowerCase() === \"source\");\n            if (sourceKey) {\n                const sourceProperty = page.properties[sourceKey];\n                if (sourceProperty) {\n                    // Handle URL type directly\n                    if (sourceProperty.type === \"url\") {\n                        source = sourceProperty.url || \"\";\n                    } else {\n                        // Handle text/rich_text types\n                        const sourceValue = getPropertyValue(page, sourceKey);\n                        if (sourceValue && typeof sourceValue === \"string\") {\n                            source = sourceValue.trim();\n                        }\n                    }\n                }\n            }\n            return {\n                id: page.id,\n                name: name || \"Untitled\",\n                images,\n                status: status || \"planned\",\n                statusColor: statusColor || undefined,\n                caption: caption || \"\",\n                order,\n                pinned,\n                platform,\n                source: source && source.trim() ? source.trim() : undefined\n            };\n        });\n        // Sort: pinned first, then by order\n        posts.sort((a, b)=>{\n            if (a.pinned && !b.pinned) return -1;\n            if (!a.pinned && b.pinned) return 1;\n            return a.order - b.order;\n        });\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json(posts, {\n            headers: {\n                \"Cache-Control\": \"no-store, no-cache, must-revalidate, proxy-revalidate\",\n                \"Pragma\": \"no-cache\",\n                \"Expires\": \"0\"\n            }\n        });\n    } catch (error) {\n        console.error(\"Error fetching posts:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"Failed to fetch posts from Notion\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9hcHAvYXBpL3dpZGdldHMvW2lkXS9wb3N0cy9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXdEO0FBQ2xCO0FBQ0s7QUFDRDtBQUcxQyxpQ0FBaUM7QUFDMUIsTUFBTUksVUFBVSxnQkFBZ0I7QUFDaEMsTUFBTUMsYUFBYSxFQUFFO0FBaUI1QixTQUFTQyxpQkFDUEMsSUFBd0IsRUFDeEJDLFlBQW9CO0lBRXBCLE1BQU1DLFdBQVdGLEtBQUtHLFVBQVUsQ0FBQ0YsYUFBYTtJQUM5QyxJQUFJLENBQUNDLFVBQVUsT0FBTztJQUV0QixPQUFRQSxTQUFTRSxJQUFJO1FBQ25CLEtBQUs7WUFDSCxPQUFPRixTQUFTRyxLQUFLLENBQUNDLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxVQUFVLEVBQUVDLElBQUksQ0FBQyxPQUFPO1FBQzdELEtBQUs7WUFDSCxPQUFPUCxTQUFTUSxTQUFTLENBQUNKLEdBQUcsQ0FBQyxDQUFDQyxJQUFNQSxFQUFFQyxVQUFVLEVBQUVDLElBQUksQ0FBQyxPQUFPO1FBQ2pFLEtBQUs7WUFDSCxPQUFPUCxTQUFTUyxNQUFNLEVBQUVDLFFBQVE7UUFDbEMsS0FBSztZQUNILE9BQU9WLFNBQVNXLE1BQU0sRUFBRUQsUUFBUTtRQUNsQyxLQUFLO1lBQ0gsT0FBT1YsU0FBU1ksTUFBTSxJQUFJO1FBQzVCLEtBQUs7WUFDSCxPQUFPWixTQUFTYSxRQUFRLElBQUk7UUFDOUIsS0FBSztZQUNILE1BQU1DLE9BQWlCLEVBQUU7WUFDekIsS0FBSyxNQUFNQyxRQUFRZixTQUFTZ0IsS0FBSyxDQUFFO2dCQUNqQyxJQUFJRCxLQUFLYixJQUFJLEtBQUssUUFBUTtvQkFDeEJZLEtBQUtHLElBQUksQ0FBQ0YsS0FBS0EsSUFBSSxDQUFDRyxHQUFHO2dCQUN6QixPQUFPLElBQUlILEtBQUtiLElBQUksS0FBSyxZQUFZO29CQUNuQ1ksS0FBS0csSUFBSSxDQUFDRixLQUFLSSxRQUFRLENBQUNELEdBQUc7Z0JBQzdCO1lBQ0Y7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O1lBQ25DLElBQUksQ0FBQ2MsRUFBRWQsTUFBTSxJQUFJZSxFQUFFZixNQUFNLEVBQUUsT0FBTztZQUNsQyxPQUFPYyxFQUFFZixLQUFLLEdBQUdnQixFQUFFaEIsS0FBSztRQUMxQjtRQUVBLE9BQU9sRSxxREFBWUEsQ0FBQ3NDLElBQUksQ0FBQ1ksT0FBTztZQUM5QmlDLFNBQVM7Z0JBQ1AsaUJBQWlCO2dCQUNqQixVQUFVO2dCQUNWLFdBQVc7WUFDYjtRQUNGO0lBQ0YsRUFBRSxPQUFPNUMsT0FBTztRQUNkNkMsUUFBUTdDLEtBQUssQ0FBQyx5QkFBeUJBO1FBQ3ZDLE9BQU92QyxxREFBWUEsQ0FBQ3NDLElBQUksQ0FDdEI7WUFBRUMsT0FBTztRQUFvQyxHQUM3QztZQUFFbkIsUUFBUTtRQUFJO0lBRWxCO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9pbnN0YS1ncmlkLy4vYXBwL2FwaS93aWRnZXRzL1tpZF0vcG9zdHMvcm91dGUudHM/OWQxZSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSBcIm5leHQvc2VydmVyXCI7XG5pbXBvcnQgeyBnZXREYiB9IGZyb20gXCJAL2xpYi9tb25nb2RiXCI7XG5pbXBvcnQgeyBkZWNyeXB0IH0gZnJvbSBcIkAvbGliL2VuY3J5cHRpb25cIjtcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCJAbm90aW9uaHEvY2xpZW50XCI7XG5pbXBvcnQgeyBQYWdlT2JqZWN0UmVzcG9uc2UsIFF1ZXJ5RGF0YWJhc2VSZXNwb25zZSB9IGZyb20gXCJAbm90aW9uaHEvY2xpZW50L2J1aWxkL3NyYy9hcGktZW5kcG9pbnRzXCI7XG5cbi8vIERpc2FibGUgY2FjaGluZyBmb3IgdGhpcyByb3V0ZVxuZXhwb3J0IGNvbnN0IGR5bmFtaWMgPSBcImZvcmNlLWR5bmFtaWNcIjtcbmV4cG9ydCBjb25zdCByZXZhbGlkYXRlID0gMDtcblxudHlwZSBQbGF0Zm9ybSA9IFwiaW5zdGFncmFtXCIgfCBcInRpa3Rva1wiO1xuXG5pbnRlcmZhY2UgTm90aW9uUG9zdCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgaW1hZ2VzOiBzdHJpbmdbXTtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIHN0YXR1c0NvbG9yPzogc3RyaW5nO1xuICBjYXB0aW9uOiBzdHJpbmc7XG4gIG9yZGVyOiBudW1iZXI7XG4gIHBpbm5lZDogYm9vbGVhbjtcbiAgcGxhdGZvcm06IFBsYXRmb3JtO1xuICBzb3VyY2U/OiBzdHJpbmc7XG59XG5cbmZ1bmN0aW9uIGdldFByb3BlcnR5VmFsdWUoXG4gIHBhZ2U6IFBhZ2VPYmplY3RSZXNwb25zZSxcbiAgcHJvcGVydHlOYW1lOiBzdHJpbmdcbik6IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBzdHJpbmdbXSB8IG51bGwge1xuICBjb25zdCBwcm9wZXJ0eSA9IHBhZ2UucHJvcGVydGllc1twcm9wZXJ0eU5hbWVdO1xuICBpZiAoIXByb3BlcnR5KSByZXR1cm4gbnVsbDtcblxuICBzd2l0Y2ggKHByb3BlcnR5LnR5cGUpIHtcbiAgICBjYXNlIFwidGl0bGVcIjpcbiAgICAgIHJldHVybiBwcm9wZXJ0eS50aXRsZS5tYXAoKHQpID0+IHQucGxhaW5fdGV4dCkuam9pbihcIlwiKSB8fCBcIlwiO1xuICAgIGNhc2UgXCJyaWNoX3RleHRcIjpcbiAgICAgIHJldHVybiBwcm9wZXJ0eS5yaWNoX3RleHQubWFwKCh0KSA9PiB0LnBsYWluX3RleHQpLmpvaW4oXCJcIikgfHwgXCJcIjtcbiAgICBjYXNlIFwic2VsZWN0XCI6XG4gICAgICByZXR1cm4gcHJvcGVydHkuc2VsZWN0Py5uYW1lIHx8IFwiXCI7XG4gICAgY2FzZSBcInN0YXR1c1wiOlxuICAgICAgcmV0dXJuIHByb3BlcnR5LnN0YXR1cz8ubmFtZSB8fCBcIlwiO1xuICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgIHJldHVybiBwcm9wZXJ0eS5udW1iZXIgPz8gMDtcbiAgICBjYXNlIFwiY2hlY2tib3hcIjpcbiAgICAgIHJldHVybiBwcm9wZXJ0eS5jaGVja2JveCA/PyBmYWxzZTtcbiAgICBjYXNlIFwiZmlsZXNcIjpcbiAgICAgIGNvbnN0IHVybHM6IHN0cmluZ1tdID0gW107XG4gICAgICBmb3IgKGNvbnN0IGZpbGUgb2YgcHJvcGVydHkuZmlsZXMpIHtcbiAgICAgICAgaWYgKGZpbGUudHlwZSA9PT0gXCJmaWxlXCIpIHtcbiAgICAgICAgICB1cmxzLnB1c2goZmlsZS5maWxlLnVybCk7XG4gICAgICAgIH0gZWxzZSBpZiAoZmlsZS50eXBlID09PSBcImV4dGVybmFsXCIpIHtcbiAgICAgICAgICB1cmxzLnB1c2goZmlsZS5leHRlcm5hbC51cmwpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdXJscztcbiAgICBjYXNlIFwidXJsXCI6XG4gICAgICByZXR1cm4gcHJvcGVydHkudXJsIHx8IFwiXCI7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8vIEdFVCAvYXBpL3dpZGdldHMvW2lkXS9wb3N0cyAtIEZldGNoIHBvc3RzIGZvciBhIHdpZGdldFxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChcbiAgcmVxdWVzdDogTmV4dFJlcXVlc3QsXG4gIHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9XG4pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBkYiA9IGF3YWl0IGdldERiKCk7XG5cbiAgICAvLyBGaW5kIHdpZGdldCBieSB3aWRnZXRJZCAodGhlIHNob3J0IElEIHVzZWQgaW4gZW1iZWQgVVJMcylcbiAgICBjb25zdCB3aWRnZXQgPSBhd2FpdCBkYi5jb2xsZWN0aW9uKFwid2lkZ2V0c1wiKS5maW5kT25lKHtcbiAgICAgIHdpZGdldElkOiBwYXJhbXMuaWQsXG4gICAgfSk7XG5cbiAgICBpZiAoIXdpZGdldCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6IFwiV2lkZ2V0IG5vdCBmb3VuZFwiIH0sIHsgc3RhdHVzOiA0MDQgfSk7XG4gICAgfVxuXG4gICAgLy8gRGVjcnlwdCB0aGUgTm90aW9uIHRva2VuXG4gICAgY29uc3Qgbm90aW9uVG9rZW4gPSBkZWNyeXB0KHdpZGdldC5ub3Rpb25Ub2tlbik7XG4gICAgY29uc3Qgbm90aW9uID0gbmV3IENsaWVudCh7IGF1dGg6IG5vdGlvblRva2VuIH0pO1xuXG4gICAgLy8gUXVlcnkgdGhlIE5vdGlvbiBkYXRhYmFzZVxuICAgIGNvbnN0IHJlc3BvbnNlOiBRdWVyeURhdGFiYXNlUmVzcG9uc2UgPSBhd2FpdCBub3Rpb24uZGF0YWJhc2VzLnF1ZXJ5KHtcbiAgICAgIGRhdGFiYXNlX2lkOiB3aWRnZXQuZGF0YWJhc2VJZCxcbiAgICAgIHNvcnRzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBwcm9wZXJ0eTogXCJPcmRlclwiLFxuICAgICAgICAgIGRpcmVjdGlvbjogXCJhc2NlbmRpbmdcIixcbiAgICAgICAgfSxcbiAgICAgIF0sXG4gICAgfSk7XG5cbiAgICBjb25zdCBwb3N0czogTm90aW9uUG9zdFtdID0gcmVzcG9uc2UucmVzdWx0c1xuICAgICAgLmZpbHRlcigocGFnZSk6IHBhZ2UgaXMgUGFnZU9iamVjdFJlc3BvbnNlID0+IFwicHJvcGVydGllc1wiIGluIHBhZ2UpXG4gICAgICAubWFwKChwYWdlLCBpbmRleCkgPT4ge1xuICAgICAgICBjb25zdCBuYW1lID0gZ2V0UHJvcGVydHlWYWx1ZShwYWdlLCBcIk5hbWVcIikgYXMgc3RyaW5nO1xuICAgICAgICBjb25zdCBpbWFnZXMgPSAoZ2V0UHJvcGVydHlWYWx1ZShwYWdlLCBcImZpbGVzXCIpIGFzIHN0cmluZ1tdKSB8fCBbXTtcbiAgICAgICAgY29uc3QgcHJvcGVydHlLZXlzID0gT2JqZWN0LmtleXMocGFnZS5wcm9wZXJ0aWVzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlYWQgU3RhdHVzIGRpcmVjdGx5IGZyb20gcHJvcGVydHkgKGNhc2UtaW5zZW5zaXRpdmUpXG4gICAgICAgIC8vIE5vdGlvbiB1c2VzIHR5cGUgXCJzdGF0dXNcIiAobm90IFwic2VsZWN0XCIpIHdpdGggcHJvcGVydHkuc3RhdHVzLm5hbWUgYW5kIHByb3BlcnR5LnN0YXR1cy5jb2xvclxuICAgICAgICBsZXQgc3RhdHVzID0gXCJcIjtcbiAgICAgICAgbGV0IHN0YXR1c0NvbG9yID0gXCJcIjtcbiAgICAgICAgY29uc3Qgc3RhdHVzS2V5ID0gcHJvcGVydHlLZXlzLmZpbmQoXG4gICAgICAgICAgKGtleSkgPT4ga2V5LnRvTG93ZXJDYXNlKCkgPT09IFwic3RhdHVzXCJcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChzdGF0dXNLZXkpIHtcbiAgICAgICAgICBjb25zdCBzdGF0dXNQcm9wZXJ0eSA9IHBhZ2UucHJvcGVydGllc1tzdGF0dXNLZXldO1xuICAgICAgICAgIGlmIChzdGF0dXNQcm9wZXJ0eT8udHlwZSA9PT0gXCJzdGF0dXNcIikge1xuICAgICAgICAgICAgLy8gU3RhdHVzIHR5cGU6IHZhbHVlIGlzIGF0IHByb3BlcnR5LnN0YXR1cy5uYW1lIGFuZCBjb2xvciBhdCBwcm9wZXJ0eS5zdGF0dXMuY29sb3JcbiAgICAgICAgICAgIHN0YXR1cyA9IHN0YXR1c1Byb3BlcnR5LnN0YXR1cz8ubmFtZSB8fCBcIlwiO1xuICAgICAgICAgICAgc3RhdHVzQ29sb3IgPSBzdGF0dXNQcm9wZXJ0eS5zdGF0dXM/LmNvbG9yIHx8IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIGlmIChzdGF0dXNQcm9wZXJ0eT8udHlwZSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgICAgICAgLy8gRmFsbGJhY2sgZm9yIHNlbGVjdCB0eXBlXG4gICAgICAgICAgICBzdGF0dXMgPSBzdGF0dXNQcm9wZXJ0eS5zZWxlY3Q/Lm5hbWUgfHwgXCJcIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RhdHVzID0gKGdldFByb3BlcnR5VmFsdWUocGFnZSwgc3RhdHVzS2V5KSBhcyBzdHJpbmcpIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN0YXR1cyA9IChnZXRQcm9wZXJ0eVZhbHVlKHBhZ2UsIFwiU3RhdHVzXCIpIGFzIHN0cmluZykgfHwgXCJcIjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgY29uc3QgY2FwdGlvbiA9IGdldFByb3BlcnR5VmFsdWUocGFnZSwgXCJDYXB0aW9uXCIpIGFzIHN0cmluZztcbiAgICAgICAgY29uc3Qgb3JkZXIgPSAoZ2V0UHJvcGVydHlWYWx1ZShwYWdlLCBcIk9yZGVyXCIpIGFzIG51bWJlcikgfHwgaW5kZXggKyAxO1xuICAgICAgICBjb25zdCBwaW5uZWQgPSAoZ2V0UHJvcGVydHlWYWx1ZShwYWdlLCBcIlBpbm5lZFwiKSBhcyBib29sZWFuKSA/PyBmYWxzZTtcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmQgcGxhdGZvcm0gcHJvcGVydHkgYnkgY2hlY2tpbmcgYWxsIHByb3BlcnR5IGtleXMgKGNhc2UtaW5zZW5zaXRpdmUpXG4gICAgICAgIGxldCBwbGF0Zm9ybVJhdyA9IFwiXCI7XG4gICAgICAgIFxuICAgICAgICAvLyBUcnkgZXhhY3QgbWF0Y2ggZmlyc3QgKGNhc2UtaW5zZW5zaXRpdmUpXG4gICAgICAgIGxldCBwbGF0Zm9ybUtleSA9IHByb3BlcnR5S2V5cy5maW5kKFxuICAgICAgICAgIChrZXkpID0+IGtleS50b0xvd2VyQ2FzZSgpID09PSBcInBsYXRmb3JtXCJcbiAgICAgICAgKTtcbiAgICAgICAgXG4gICAgICAgIC8vIElmIG5vdCBmb3VuZCwgdHJ5IHBhcnRpYWwgbWF0Y2ggKGluIGNhc2UgaXQncyBcIlBsYXRmb3JtXCIgb3IgaGFzIHNwYWNlcylcbiAgICAgICAgaWYgKCFwbGF0Zm9ybUtleSkge1xuICAgICAgICAgIHBsYXRmb3JtS2V5ID0gcHJvcGVydHlLZXlzLmZpbmQoXG4gICAgICAgICAgICAoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhcInBsYXRmb3JtXCIpXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYgKHBsYXRmb3JtS2V5KSB7XG4gICAgICAgICAgY29uc3QgcGxhdGZvcm1Qcm9wZXJ0eSA9IHBhZ2UucHJvcGVydGllc1twbGF0Zm9ybUtleV07XG4gICAgICAgICAgLy8gSGFuZGxlIHNlbGVjdCB0eXBlIGRpcmVjdGx5XG4gICAgICAgICAgaWYgKHBsYXRmb3JtUHJvcGVydHkudHlwZSA9PT0gXCJzZWxlY3RcIikge1xuICAgICAgICAgICAgcGxhdGZvcm1SYXcgPSBwbGF0Zm9ybVByb3BlcnR5LnNlbGVjdD8ubmFtZSB8fCBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBwbGF0Zm9ybVJhdyA9IChnZXRQcm9wZXJ0eVZhbHVlKHBhZ2UsIHBsYXRmb3JtS2V5KSBhcyBzdHJpbmcpIHx8IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBjb25zdCBwbGF0Zm9ybUxvd2VyID0gcGxhdGZvcm1SYXcudHJpbSgpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgIGNvbnN0IHBsYXRmb3JtOiBQbGF0Zm9ybSA9IHBsYXRmb3JtTG93ZXIuaW5jbHVkZXMoXCJ0aWt0b2tcIikgPyBcInRpa3Rva1wiIDogXCJpbnN0YWdyYW1cIjtcbiAgICAgICAgXG4gICAgICAgIC8vIEZpbmQgc291cmNlIHByb3BlcnR5IChjYXNlLWluc2Vuc2l0aXZlKSAtIGNhbiBiZSBVUkwgb3IgdGV4dCB0eXBlXG4gICAgICAgIGxldCBzb3VyY2UgPSBcIlwiO1xuICAgICAgICBjb25zdCBzb3VyY2VLZXkgPSBwcm9wZXJ0eUtleXMuZmluZChcbiAgICAgICAgICAoa2V5KSA9PiBrZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJzb3VyY2VcIlxuICAgICAgICApO1xuICAgICAgICBcbiAgICAgICAgaWYgKHNvdXJjZUtleSkge1xuICAgICAgICAgIGNvbnN0IHNvdXJjZVByb3BlcnR5ID0gcGFnZS5wcm9wZXJ0aWVzW3NvdXJjZUtleV07XG4gICAgICAgICAgaWYgKHNvdXJjZVByb3BlcnR5KSB7XG4gICAgICAgICAgICAvLyBIYW5kbGUgVVJMIHR5cGUgZGlyZWN0bHlcbiAgICAgICAgICAgIGlmIChzb3VyY2VQcm9wZXJ0eS50eXBlID09PSBcInVybFwiKSB7XG4gICAgICAgICAgICAgIHNvdXJjZSA9IHNvdXJjZVByb3BlcnR5LnVybCB8fCBcIlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gSGFuZGxlIHRleHQvcmljaF90ZXh0IHR5cGVzXG4gICAgICAgICAgICAgIGNvbnN0IHNvdXJjZVZhbHVlID0gZ2V0UHJvcGVydHlWYWx1ZShwYWdlLCBzb3VyY2VLZXkpO1xuICAgICAgICAgICAgICBpZiAoc291cmNlVmFsdWUgJiYgdHlwZW9mIHNvdXJjZVZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgc291cmNlID0gc291cmNlVmFsdWUudHJpbSgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogcGFnZS5pZCxcbiAgICAgICAgICBuYW1lOiBuYW1lIHx8IFwiVW50aXRsZWRcIixcbiAgICAgICAgICBpbWFnZXMsXG4gICAgICAgICAgc3RhdHVzOiBzdGF0dXMgfHwgXCJwbGFubmVkXCIsXG4gICAgICAgICAgc3RhdHVzQ29sb3I6IHN0YXR1c0NvbG9yIHx8IHVuZGVmaW5lZCxcbiAgICAgICAgICBjYXB0aW9uOiBjYXB0aW9uIHx8IFwiXCIsXG4gICAgICAgICAgb3JkZXIsXG4gICAgICAgICAgcGlubmVkLFxuICAgICAgICAgIHBsYXRmb3JtLFxuICAgICAgICAgIHNvdXJjZTogc291cmNlICYmIHNvdXJjZS50cmltKCkgPyBzb3VyY2UudHJpbSgpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAvLyBTb3J0OiBwaW5uZWQgZmlyc3QsIHRoZW4gYnkgb3JkZXJcbiAgICBwb3N0cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBpZiAoYS5waW5uZWQgJiYgIWIucGlubmVkKSByZXR1cm4gLTE7XG4gICAgICBpZiAoIWEucGlubmVkICYmIGIucGlubmVkKSByZXR1cm4gMTtcbiAgICAgIHJldHVybiBhLm9yZGVyIC0gYi5vcmRlcjtcbiAgICB9KTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihwb3N0cywge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICBcIkNhY2hlLUNvbnRyb2xcIjogXCJuby1zdG9yZSwgbm8tY2FjaGUsIG11c3QtcmV2YWxpZGF0ZSwgcHJveHktcmV2YWxpZGF0ZVwiLFxuICAgICAgICBcIlByYWdtYVwiOiBcIm5vLWNhY2hlXCIsXG4gICAgICAgIFwiRXhwaXJlc1wiOiBcIjBcIixcbiAgICAgIH0sXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZldGNoaW5nIHBvc3RzOlwiLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBlcnJvcjogXCJGYWlsZWQgdG8gZmV0Y2ggcG9zdHMgZnJvbSBOb3Rpb25cIiB9LFxuICAgICAgeyBzdGF0dXM6IDUwMCB9XG4gICAgKTtcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsImdldERiIiwiZGVjcnlwdCIsIkNsaWVudCIsImR5bmFtaWMiLCJyZXZhbGlkYXRlIiwiZ2V0UHJvcGVydHlWYWx1ZSIsInBhZ2UiLCJwcm9wZXJ0eU5hbWUiLCJwcm9wZXJ0eSIsInByb3BlcnRpZXMiLCJ0eXBlIiwidGl0bGUiLCJtYXAiLCJ0IiwicGxhaW5fdGV4dCIsImpvaW4iLCJyaWNoX3RleHQiLCJzZWxlY3QiLCJuYW1lIiwic3RhdHVzIiwibnVtYmVyIiwiY2hlY2tib3giLCJ1cmxzIiwiZmlsZSIsImZpbGVzIiwicHVzaCIsInVybCIsImV4dGVybmFsIiwiR0VUIiwicmVxdWVzdCIsInBhcmFtcyIsImRiIiwid2lkZ2V0IiwiY29sbGVjdGlvbiIsImZpbmRPbmUiLCJ3aWRnZXRJZCIsImlkIiwianNvbiIsImVycm9yIiwibm90aW9uVG9rZW4iLCJub3Rpb24iLCJhdXRoIiwicmVzcG9uc2UiLCJkYXRhYmFzZXMiLCJxdWVyeSIsImRhdGFiYXNlX2lkIiwiZGF0YWJhc2VJZCIsInNvcnRzIiwiZGlyZWN0aW9uIiwicG9zdHMiLCJyZXN1bHRzIiwiZmlsdGVyIiwiaW5kZXgiLCJpbWFnZXMiLCJwcm9wZXJ0eUtleXMiLCJPYmplY3QiLCJrZXlzIiwic3RhdHVzQ29sb3IiLCJzdGF0dXNLZXkiLCJmaW5kIiwia2V5IiwidG9Mb3dlckNhc2UiLCJzdGF0dXNQcm9wZXJ0eSIsImNvbG9yIiwiY2FwdGlvbiIsIm9yZGVyIiwicGlubmVkIiwicGxhdGZvcm1SYXciLCJwbGF0Zm9ybUtleSIsImluY2x1ZGVzIiwicGxhdGZvcm1Qcm9wZXJ0eSIsInBsYXRmb3JtTG93ZXIiLCJ0cmltIiwicGxhdGZvcm0iLCJzb3VyY2UiLCJzb3VyY2VLZXkiLCJzb3VyY2VQcm9wZXJ0eSIsInNvdXJjZVZhbHVlIiwidW5kZWZpbmVkIiwic29ydCIsImEiLCJiIiwiaGVhZGVycyIsImNvbnNvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./app/api/widgets/[id]/posts/route.ts\n");

/***/ }),

/***/ "(rsc)/./lib/encryption.ts":
/*!***************************!*\
  !*** ./lib/encryption.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   decrypt: () => (/* binding */ decrypt),\n/* harmony export */   encrypt: () => (/* binding */ encrypt)\n/* harmony export */ });\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! crypto-js */ \"(rsc)/./node_modules/crypto-js/index.js\");\n/* harmony import */ var crypto_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(crypto_js__WEBPACK_IMPORTED_MODULE_0__);\n\nconst SECRET_KEY = process.env.ENCRYPTION_KEY || process.env.NEXTAUTH_SECRET || \"fallback-key\";\nfunction encrypt(text) {\n    return crypto_js__WEBPACK_IMPORTED_MODULE_0___default().AES.encrypt(text, SECRET_KEY).toString();\n}\nfunction decrypt(ciphertext) {\n    const bytes = crypto_js__WEBPACK_IMPORTED_MODULE_0___default().AES.decrypt(ciphertext, SECRET_KEY);\n    return bytes.toString((crypto_js__WEBPACK_IMPORTED_MODULE_0___default().enc).Utf8);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvZW5jcnlwdGlvbi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQWlDO0FBRWpDLE1BQU1DLGFBQWFDLFFBQVFDLEdBQUcsQ0FBQ0MsY0FBYyxJQUFJRixRQUFRQyxHQUFHLENBQUNFLGVBQWUsSUFBSTtBQUV6RSxTQUFTQyxRQUFRQyxJQUFZO0lBQ2xDLE9BQU9QLG9EQUFZLENBQUNNLE9BQU8sQ0FBQ0MsTUFBTU4sWUFBWVEsUUFBUTtBQUN4RDtBQUVPLFNBQVNDLFFBQVFDLFVBQWtCO0lBQ3hDLE1BQU1DLFFBQVFaLG9EQUFZLENBQUNVLE9BQU8sQ0FBQ0MsWUFBWVY7SUFDL0MsT0FBT1csTUFBTUgsUUFBUSxDQUFDVCxzREFBWSxDQUFDYyxJQUFJO0FBQ3pDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vaW5zdGEtZ3JpZC8uL2xpYi9lbmNyeXB0aW9uLnRzPzMzNzUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IENyeXB0b0pTIGZyb20gXCJjcnlwdG8tanNcIjtcblxuY29uc3QgU0VDUkVUX0tFWSA9IHByb2Nlc3MuZW52LkVOQ1JZUFRJT05fS0VZIHx8IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCB8fCBcImZhbGxiYWNrLWtleVwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZW5jcnlwdCh0ZXh0OiBzdHJpbmcpOiBzdHJpbmcge1xuICByZXR1cm4gQ3J5cHRvSlMuQUVTLmVuY3J5cHQodGV4dCwgU0VDUkVUX0tFWSkudG9TdHJpbmcoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlY3J5cHQoY2lwaGVydGV4dDogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgYnl0ZXMgPSBDcnlwdG9KUy5BRVMuZGVjcnlwdChjaXBoZXJ0ZXh0LCBTRUNSRVRfS0VZKTtcbiAgcmV0dXJuIGJ5dGVzLnRvU3RyaW5nKENyeXB0b0pTLmVuYy5VdGY4KTtcbn1cbiJdLCJuYW1lcyI6WyJDcnlwdG9KUyIsIlNFQ1JFVF9LRVkiLCJwcm9jZXNzIiwiZW52IiwiRU5DUllQVElPTl9LRVkiLCJORVhUQVVUSF9TRUNSRVQiLCJlbmNyeXB0IiwidGV4dCIsIkFFUyIsInRvU3RyaW5nIiwiZGVjcnlwdCIsImNpcGhlcnRleHQiLCJieXRlcyIsImVuYyIsIlV0ZjgiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./lib/encryption.ts\n");

/***/ }),

/***/ "(rsc)/./lib/mongodb.ts":
/*!************************!*\
  !*** ./lib/mongodb.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   getDb: () => (/* binding */ getDb)\n/* harmony export */ });\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ \"mongodb\");\n/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);\n\nconst uri = process.env.MONGODB_URI;\nconst options = {};\nlet client = null;\nlet clientPromise = null;\nfunction getClientPromise() {\n    if (!uri) {\n        throw new Error(\"Please add your MongoDB URI to .env.local\");\n    }\n    if (true) {\n        // In development, use a global variable to preserve the connection across HMR\n        if (!global._mongoClientPromise) {\n            client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(uri, options);\n            global._mongoClientPromise = client.connect();\n        }\n        return global._mongoClientPromise;\n    } else {}\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (getClientPromise);\nasync function getDb() {\n    const client = await getClientPromise();\n    return client.db(\"instagram_grid_planner\");\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9saWIvbW9uZ29kYi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQTBDO0FBRTFDLE1BQU1DLE1BQU1DLFFBQVFDLEdBQUcsQ0FBQ0MsV0FBVztBQUNuQyxNQUFNQyxVQUFVLENBQUM7QUFFakIsSUFBSUMsU0FBNkI7QUFDakMsSUFBSUMsZ0JBQTZDO0FBTWpELFNBQVNDO0lBQ1AsSUFBSSxDQUFDUCxLQUFLO1FBQ1IsTUFBTSxJQUFJUSxNQUFNO0lBQ2xCO0lBRUEsSUFBSVAsSUFBc0MsRUFBRTtRQUMxQyw4RUFBOEU7UUFDOUUsSUFBSSxDQUFDUSxPQUFPQyxtQkFBbUIsRUFBRTtZQUMvQkwsU0FBUyxJQUFJTixnREFBV0EsQ0FBQ0MsS0FBS0k7WUFDOUJLLE9BQU9DLG1CQUFtQixHQUFHTCxPQUFPTSxPQUFPO1FBQzdDO1FBQ0EsT0FBT0YsT0FBT0MsbUJBQW1CO0lBQ25DLE9BQU8sRUFPTjtBQUNIO0FBRUEsaUVBQWVILGdCQUFnQkEsRUFBQztBQUV6QixlQUFlSztJQUNwQixNQUFNUCxTQUFTLE1BQU1FO0lBQ3JCLE9BQU9GLE9BQU9RLEVBQUUsQ0FBQztBQUNuQiIsInNvdXJjZXMiOlsid2VicGFjazovL2luc3RhLWdyaWQvLi9saWIvbW9uZ29kYi50cz8wNWJkIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE1vbmdvQ2xpZW50LCBEYiB9IGZyb20gXCJtb25nb2RiXCI7XG5cbmNvbnN0IHVyaSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xuY29uc3Qgb3B0aW9ucyA9IHt9O1xuXG5sZXQgY2xpZW50OiBNb25nb0NsaWVudCB8IG51bGwgPSBudWxsO1xubGV0IGNsaWVudFByb21pc2U6IFByb21pc2U8TW9uZ29DbGllbnQ+IHwgbnVsbCA9IG51bGw7XG5cbmRlY2xhcmUgZ2xvYmFsIHtcbiAgdmFyIF9tb25nb0NsaWVudFByb21pc2U6IFByb21pc2U8TW9uZ29DbGllbnQ+IHwgdW5kZWZpbmVkO1xufVxuXG5mdW5jdGlvbiBnZXRDbGllbnRQcm9taXNlKCk6IFByb21pc2U8TW9uZ29DbGllbnQ+IHtcbiAgaWYgKCF1cmkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJQbGVhc2UgYWRkIHlvdXIgTW9uZ29EQiBVUkkgdG8gLmVudi5sb2NhbFwiKTtcbiAgfVxuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gXCJkZXZlbG9wbWVudFwiKSB7XG4gICAgLy8gSW4gZGV2ZWxvcG1lbnQsIHVzZSBhIGdsb2JhbCB2YXJpYWJsZSB0byBwcmVzZXJ2ZSB0aGUgY29ubmVjdGlvbiBhY3Jvc3MgSE1SXG4gICAgaWYgKCFnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSkge1xuICAgICAgY2xpZW50ID0gbmV3IE1vbmdvQ2xpZW50KHVyaSwgb3B0aW9ucyk7XG4gICAgICBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBnbG9iYWwuX21vbmdvQ2xpZW50UHJvbWlzZTtcbiAgfSBlbHNlIHtcbiAgICAvLyBJbiBwcm9kdWN0aW9uLCBjcmVhdGUgYSBuZXcgY2xpZW50IGZvciBlYWNoIHJlcXVlc3RcbiAgICBpZiAoIWNsaWVudFByb21pc2UpIHtcbiAgICAgIGNsaWVudCA9IG5ldyBNb25nb0NsaWVudCh1cmksIG9wdGlvbnMpO1xuICAgICAgY2xpZW50UHJvbWlzZSA9IGNsaWVudC5jb25uZWN0KCk7XG4gICAgfVxuICAgIHJldHVybiBjbGllbnRQcm9taXNlO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IGdldENsaWVudFByb21pc2U7XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXREYigpOiBQcm9taXNlPERiPiB7XG4gIGNvbnN0IGNsaWVudCA9IGF3YWl0IGdldENsaWVudFByb21pc2UoKTtcbiAgcmV0dXJuIGNsaWVudC5kYihcImluc3RhZ3JhbV9ncmlkX3BsYW5uZXJcIik7XG59XG4iXSwibmFtZXMiOlsiTW9uZ29DbGllbnQiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTU9OR09EQl9VUkkiLCJvcHRpb25zIiwiY2xpZW50IiwiY2xpZW50UHJvbWlzZSIsImdldENsaWVudFByb21pc2UiLCJFcnJvciIsImdsb2JhbCIsIl9tb25nb0NsaWVudFByb21pc2UiLCJjb25uZWN0IiwiZ2V0RGIiLCJkYiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./lib/mongodb.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/tr46","vendor-chunks/crypto-js","vendor-chunks/@notionhq","vendor-chunks/node-fetch","vendor-chunks/whatwg-url","vendor-chunks/webidl-conversions"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&page=%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fwidgets%2F%5Bid%5D%2Fposts%2Froute.ts&appDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid%2Fapp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=%2FUsers%2Fcookiemonster%2FDocuments%2FReact-app%2FCuddles-CMS%2FInsta_grid&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();